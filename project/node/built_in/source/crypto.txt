
ğŸ” Type to search 
ã€ŠNode.jsæŠ€æœ¯æ ˆã€‹
Introduction

ç®€ä»‹
JavaScript

åŸºç¡€
å¿«é€Ÿå¯¼èˆª
å¸¸è§é—®é¢˜
undefinedä¸undeclaredçš„åŒºåˆ«
æ¬ºéª—è¯æ³•ä½œç”¨åŸŸ
ç±»å‹æ£€æµ‹
é”™è¯¯
æ•°ç»„å»é‡çš„ä¸‰ç§å®ç°æ–¹å¼
æ•°ç»„é™ç»´
This
å‡½æ•°
å¯¹è±¡
åŸå‹
æ­£åˆ™
æµ®ç‚¹æ•°ä¹‹è°œï¼š0.1 + 0.2 ä¸ºä»€ä¹ˆä¸ç­‰äº 0.3ï¼Ÿ
æµ®ç‚¹æ•°ä¹‹è¿·ï¼šå¤§æ•°å±æœºï¼Ÿ
ECMAScript6

let&const å˜é‡å£°æ˜
å¯¹è±¡&æ•°ç»„è§£æ„èµ‹å€¼
æ•°æ®ç±»å‹åŠŸèƒ½æ‰©å±•ç³»åˆ—
Setã€Map æ•°æ®ç»“æ„
Promise
Decorators
Symbol
Generator
TypeScript

å…¥é—¨ç¯‡
é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡
Node.js åŸºç¡€

Node.js æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©å®ƒï¼Ÿ
Node.js ç‰ˆæœ¬çŸ¥å¤šå°‘ï¼Ÿåˆè¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ
â€œ3N å…„å¼Ÿâ€ åŠ©æ‚¨å®Œæˆ Node.js ç¯å¢ƒæ­å»º
Node.js åŒ…ç®¡ç†å™¨ NPM
å¤šç»´åº¦åˆ†æ Expressã€Koa ä¹‹é—´çš„åŒºåˆ«
Node.js æ¨¡å—

Module æ¨¡å—æœºåˆ¶
Events äº‹ä»¶è§¦å‘å™¨
Crypto åŠ è§£å¯†æ¨¡å—
Buffer ç¼“å†²åŒºæ¨¡å—
Process çº¿ç¨‹å’Œè¿›ç¨‹
Console æ—¥å¿—æ¨¡å—
Net ç½‘ç»œæ¨¡å—
DNS åŸŸåè§£æ
Cluster é›†ç¾¤æ¨¡å—
Stream - å¤šæ–‡ä»¶åˆå¹¶å®ç°
Stream - pipe åŸºæœ¬ä½¿ç”¨ä¸å®ç°åˆ†æ
Stream - internal/stremas/egacy.js æ–‡ä»¶åˆ†æ
Util å·¥å…·æ¨¡å— - promisify å®ç°åŸç†
ES Modules å…¥é—¨ä½¿ç”¨
Node.js è¿›é˜¶

Egg-Logger æ¨¡å—å®è·µ
I/O æ¨¡å‹æµ…è°ˆ
Memory å†…å­˜ç®¡ç†å’ŒV8åƒåœ¾å›æ”¶æœºåˆ¶
Cache ç¼“å­˜
Schedule å®šæ—¶ä»»åŠ¡
Template æ¨¡æ¿å¼•æ“
Testing æµ‹è¯•
Framework Web å¼€å‘æ¡†æ¶é€‰å‹
ORM å¯¹è±¡å…³ç³»æ˜ å°„
Middleware å¸¸ç”¨ Web æ¡†æ¶&ä¸­é—´ä»¶æ±‡æ€»
æ·±å…¥ Nodejs æºç æ¢ç©¶ CPU ä¿¡æ¯çš„è·å–ä¸å®æ—¶è®¡ç®—
Node.js ä¸­å‡ºç°æœªæ•è·å¼‚å¸¸å¦‚ä½•å¤„ç†ï¼Ÿ
Node.js ç¿»è¯‘

ä½ éœ€è¦äº†è§£çš„æœ‰å…³ Node.js çš„æ‰€æœ‰ä¿¡æ¯
ä¸å®¹é”™è¿‡çš„ Node.js é¡¹ç›®æ¶æ„
Node.js å®è·µ

ä¼ä¸šå®è·µ
æ¡†æ¶å®è·µ
DataBase | Redis

åŸºç¡€æ€»ç»“
äº”ç§æ•°æ®ç»“æ„
é«˜çº§ç‰¹æ€§
ä¸»ä»å¤åˆ¶
æ•°æ®æŒä¹…åŒ–
å“¨å…µé«˜å¯ç”¨
é›†ç¾¤æ¨¡å¼
ç¼“å­˜è®¾è®¡
åº”ç”¨åœºæ™¯
é¢è¯•æŒ‡å—
å®è·µ | Redis è®¡æ•°å™¨å®ç°å¹¶å‘åœºæ™¯ä¸‹çš„ä¼˜æƒ åˆ¸é¢†å–åŠŸèƒ½
å®è·µ | Node.js ä¸­å®è·µ Redis Lua è„šæœ¬
å®è·µ | Node.js ä¸­å®è·µ Redis åˆ†å¸ƒå¼é”
DataBase | MongoDB

MongoDB å®‰è£…å…¥é—¨ç¯‡
MongoDB CURD æ“ä½œ
MongoDB Indexes ç´¢å¼•
MongoDB å¸¸ç”¨æ“ä½œç¬¦
MongoDB å¤åˆ¶é›† | ç†è®ºç¯‡
MongoDB å¤åˆ¶é›† | å®è·µç¯‡
MongoDB äº‹åŠ¡ | åŸºç¡€ç¯‡
MongoDB äº‹åŠ¡ | å¤šæ–‡æ¡£äº‹åŠ¡å®è·µç¯‡
ServerLess

Node.js å¿«é€Ÿå¼€å¯ Serverless Functionsï¼šå…¥é—¨å®è·µæŒ‡å—
TypeScript + Serverless å¼€å‘ REST API å®æˆ˜
ä½¿ç”¨ Serverless, Nodejs, MongoDB Atlas cloud æ„å»º REST API
Microservice

æœåŠ¡æ³¨å†Œä¸å‘ç° Consul
æ•°æ®é€šä¿¡æ–¹å¼ RPCã€HTTPã€æ¶ˆæ¯é˜Ÿåˆ—
RabbitMQï¼šå…¥é—¨ç¯‡
RabbitMQï¼šäº¤æ¢æœºæ¶ˆæ¯æŠ•é€’æœºåˆ¶
RabbitMQï¼šDLXï¼ˆæ­»ä¿¡é˜Ÿåˆ—ï¼‰+ TTL å®ç°å»¶è¿Ÿé˜Ÿåˆ—
RabbitMQï¼šDelayed Message æ’ä»¶å®ç°å»¶è¿Ÿé˜Ÿåˆ—
RabbitMQï¼šé«˜å¹¶å‘ä¸‹æ¶ˆè´¹ç«¯é™æµå®è·µ
RabbitMQï¼šæœåŠ¡å¼‚å¸¸é‡è¿
HTTP

ç†è®ºåŠ å®è·µææ‡‚æµè§ˆå™¨ç¼“å­˜ç­–ç•¥
Nginx ä»£ç†æœåŠ¡é…ç½®ç¼“å­˜å®è·µ
HTTP é•¿é“¾æ¥ â€” HTTP1.1 ä¸ HTTP2 ä¸‹çš„å¯¹æ¯”
è·¨åŸŸï¼ˆCORSï¼‰äº§ç”Ÿçš„åŸå› åˆ†æä¸è§£å†³æ–¹æ¡ˆ
Socket hang up æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿï¼Ÿ
DNS åŸŸåè§£æè¿‡ç¨‹ï¼Ÿ
å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰
URI/URL/URN
Cookie å’Œ Session
DevOps

Node.js ç”Ÿäº§ç¯å¢ƒå®Œæ•´éƒ¨ç½²æŒ‡å—
NPM æ¨¡å—ç®¡ç†åº”ç”¨å®è·µ
Dockerç³»åˆ—ä¸€ï¼šå…¥é—¨åˆ°å®è·µ
Dockerç³»åˆ—äºŒï¼šNode.js æœåŠ¡å®¹å™¨åŒ–å®è·µ
Dockerç³»åˆ—ä¸‰ï¼šNode.js è¿›ç¨‹çš„ä¼˜é›…é€€å‡º
å·¥å…·

Nodejs é¡¹ç›®å¼€å‘ä¸­åº”ç”¨ ESLint ä»£ç è§„èŒƒ
Git å¸¸ç”¨å‘½ä»¤åŠæ—¥å¸¸é—®é¢˜é›†é”¦
SEO ç½‘ç«™ä¼˜åŒ– title ç½®ä¸å¿«é€Ÿæ’å
Docsify å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢
æ•°æ®ç»“æ„ä¸ç®—æ³•

Queue é˜Ÿåˆ—
Stack æ ˆ
Linear List çº¿æ€§è¡¨
BST äºŒå‰æœç´¢æ ‘
èµ„æ–™

ä¹¦ç±æ¨è
Blogæ¨è
æ–‡ç« æ¨è
JavaScriptåŸºç¡€é—®é¢˜
å¿«é€Ÿå¯¼èˆª
[åŸºç¡€] å¸¸è§é—®é¢˜

[åŸºç¡€] undefinedä¸undeclaredçš„åŒºåˆ«ï¼Ÿ

[åŸºç¡€] typeofã€instanceof ç±»å‹æ£€æµ‹

[ä½œç”¨åŸŸ] eval()ã€with æ¬ºéª—è¯æ³•ä½œç”¨åŸŸ

[Error] é”™è¯¯ç±»å‹ReferenceErrorã€TypeErrorçš„åŒºåˆ«ï¼Ÿ

[æ•°ç»„å»é‡] æ•°ç»„å»é‡çš„ä¸‰ç§å®ç°æ–¹å¼

[æ•°ç»„é™ç»´] æ•°ç»„é™ç»´--æ‰å¹³åŒ–å¤šç»´æ•°ç»„

å¸¸è§é—®é¢˜
JavaScriptä¸ƒç§å†…ç½®ç±»å‹: numberã€stringã€booleanã€undefinedã€nullã€objectã€symbol(ES6æ–°å¢åŠ )
åŸºæœ¬ç±»å‹ï¼šæŒ‡ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­çš„æ•°æ®ï¼Œå¼•ç”¨ç±»å‹ï¼š(å¯¹è±¡å¼•ç”¨)æŒ‡ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œä¼ é€’çš„æ˜¯å¼•ç”¨çš„åœ°å€
å¼±ç±»å‹ï¼šå˜é‡æ²¡æœ‰ç±»å‹, å˜é‡æŒæœ‰çš„å€¼æœ‰ç±»å‹
(typeof null === 'object') = trueï¼Œæ­£ç¡®çš„è¿”å›å€¼åº”è¯¥æ˜¯nullï¼Œä½†æ˜¯è¿™ä¸ªbugç”±æ¥å·²ä¹…ã€‚ (undefined == null) = true
indexOfä¸ºECMAScript5æ–°æ–¹æ³•ï¼ŒIE8åŠä»¥ä¸‹ä¸æ”¯æŒ
setTimeout(callback, 100)ï¼ŒsetTimeoutåªæ¥å—ä¸€ä¸ªå‡½æ•°åšä¸ºå‚æ•°ä¸æ¥å—é—­åŒ…ï¼Œå› ä¸ºé—­åŒ…ä¼šè‡ªæ‰§è¡Œï¼ŒNodejs ä¸‹æœ€å°å»¶è¿Ÿ 1ms å‚è§ v12.x timers.js#L167
undefinedä¸undeclaredçš„åŒºåˆ«
undefinedï¼š å·²åœ¨ä½œç”¨åŸŸä¸­å£°æ˜ä½†è¿˜æ²¡æœ‰èµ‹å€¼çš„å˜é‡æ˜¯undefinedã€‚

undeclaredï¼š è¿˜æ²¡æœ‰åœ¨ä½œç”¨åŸŸä¸­å£°æ˜è¿‡çš„å˜é‡æ˜¯undeclaredï¼Œå¯¹äºundeclaredè¿™ç§æƒ…å†µtypeofå¤„ç†çš„æ—¶å€™è¿”å›çš„æ˜¯undefinedã€‚

æ¬ºéª—è¯æ³•ä½œç”¨åŸŸ
è¯æ³•ä½œç”¨åŸŸç”±å†™ä»£ç æœŸé—´å‡½æ•°æ‰€å£°æ˜çš„ä½ç½®æ¥å®šä¹‰ï¼Œjavascriptæœ‰ä¸¤ç§æœºåˆ¶(eval()ã€with)åœ¨è¿è¡Œæ—¶æ¥ä¿®æ”¹è¯æ³•ä½œç”¨åŸŸï¼Œè¿™æ ·åšé€šå¸¸ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œå†…å­˜æ³„æ¼é—®é¢˜ã€‚

evalå‡½æ•°æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œè§£æå­—ç¬¦ä¸²ç”Ÿæˆä»£ç å¹¶è¿è¡Œ
function test(str, b){
    eval(str);

    console.log(a, b);
}

var a = 1;

test("var a = 3", 2); // 3 2

console.log(a); // 1
ä¸Šé¢è¿™æ®µä»£ç ç¤ºä¾‹ï¼Œevalè°ƒç”¨çš„strç›¸å½“äºåœ¨testå‡½æ•°ä½œç”¨åŸŸå†…éƒ¨å£°æ˜äº†ä¸€ä¸ªæ–°çš„å˜é‡bï¼Œå½“console.log()åœ¨æ‰“å°æ—¶ä¼šåœ¨fooå‡½æ•°å†…éƒ¨æ‰¾åˆ°aå’Œbï¼Œå°†æ— æ³•æ‰¾åˆ°å¤–éƒ¨çš„aï¼Œå› æ­¤æœ€ç»ˆè¾“å‡ºç»“æœæ˜¯3å’Œ2ï¼Œæœ€å¤–å±‚aä»å°±è¾“å‡ºæ˜¯1ï¼Œä¸¤è€…æ¯”è¾ƒå¯ä»¥çœ‹åˆ°æ•ˆæœã€‚

withé€šå¸¸è¢«å½“ä½œé‡å¤å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ä¸­çš„å¤šä¸ªå±æ€§çš„å¿«æ·æ–¹å¼
{
function withObj(obj){
    with(obj){
        a = 2
    }
}

let o1 = {
    a: 1,
}

let o2 = {
    b: 1,
}

withObj(o1);
console.log(o1.a); // 2

withObj(o2);
console.log(o2.a); // undefined
console.log(a); // 2
}
ä»¥ä¸Šç¤ºä¾‹ä¸­withObj(obj)å‡½æ•°æ¥å—ä¸€ä¸ªobjå‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ï¼Œæ‰§è¡Œäº†withï¼Œo1ä¼ è¿›å»ï¼Œa=2èµ‹å€¼æ“ä½œæ‰¾åˆ°äº†o1.aå¹¶å°†2èµ‹å€¼ç»™å®ƒï¼Œo2ä¼ è¿›å»ï¼Œå› ä¸ºo2æ²¡æœ‰aå±æ€§ï¼Œå°±ä¸ä¼šåˆ›å»ºè¿™ä¸ªå±æ€§ï¼Œo2.aä¿æŒundefinedï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å…¨å±€å˜é‡aã€‚

å¯¹æ€§èƒ½çš„å½±å“
javascriptå¼•æ“åœ¨ç¼–è¯‘é˜¶æ®µä¼šè¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œå¾ˆå¤šä¼˜åŒ–ä¾èµ–äºèƒ½å¤Ÿæ ¹æ®ä»£ç è¯æ³•è¿›è¡Œé™æ€åˆ†æï¼Œé¢„å…ˆç¡®å®šäº†å˜é‡å’Œå‡½æ•°çš„å®šä¹‰ä½ç½®ï¼Œæ‰èƒ½å¿«é€Ÿæ‰¾åˆ°æ ‡è¯†ç¬¦ï¼Œä½†æ˜¯åœ¨è¯æ³•åˆ†æé˜¶æ®µé‡åˆ°äº†withæˆ–evalæ— æ³•æ˜ç¡®çŸ¥é“å®ƒä»¬ä¼šæ¥æ”¶ä»€ä¹ˆä»£ç ï¼Œä¹Ÿå°±æ— æ³•åˆ¤æ–­æ ‡è¯†ç¬¦çš„ä½ç½®ï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯é‡åˆ°withæˆ–evalä¸åšä»»ä½•ä¼˜åŒ–ï¼Œä½¿ç”¨å…¶ä¸­ä¸€ä¸ªéƒ½ä¼šå¯¼è‡´ä»£ç è¿è¡Œå˜æ…¢ï¼Œå› æ­¤ï¼Œè¯·ä¸è¦ä½¿ç”¨ä»–ä»¬ã€‚

ç±»å‹æ£€æµ‹
typeofï¼šåŸºæœ¬ç±»å‹ç”¨typeofæ¥æ£€æµ‹

instanceofï¼šç”¨æ¥æ£€æµ‹æ˜¯å¦ä¸ºæ•°ç»„ã€å¯¹è±¡ã€æ­£åˆ™

let box = [1,2,3];
console.log(box instanceof Array); //true

let box1={};
console.log(box1 instanceof Object); //true

let box2=/g/;
console.log(box2 instanceof RegExp); //true
é”™è¯¯
ReferenceErroré”™è¯¯
å¦‚æœåœ¨æ‰€æœ‰åµŒå¥—çš„ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€çš„å˜é‡ï¼Œå¼•æ“ä¼šæŠ›å‡ºReferenceErroré”™è¯¯ï¼Œæ„å‘³è¿™ï¼Œè¿™æ˜¯ä¸€ä¸ªæœªå£°æ˜çš„å˜é‡ï¼Œè¿™ä¸ªé”™è¯¯æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å¼‚å¸¸ç±»å‹ã€‚

console.log('a: ', a); // Uncaught ReferenceError: a is not defined
let a = 2;
TypeErroré”™è¯¯
è¿™ç§é”™è¯¯è¡¨ç¤ºä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸï¼Œä½†æ˜¯è¿›è¡Œäº†éæ³•çš„æ“ä½œï¼Œä¾‹å¦‚ï¼Œå¯¹ä¸€ä¸ªéå‡½æ•°ç±»å‹çš„å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œæˆ–è€…å¼•ç”¨nullã€undefinedç±»å‹çš„å€¼ä¸­çš„å±æ€§ï¼Œå°†ä¼šæŠ›å‡ºTypeErrorå¼‚å¸¸é”™è¯¯ã€‚

let a = null; // æˆ–è€…a = undefined
console.log(a.b); // Uncaught TypeError: Cannot read property 'b' of null
å¯¹ä¸€ä¸ªéå‡½æ•°ç±»å‹çš„å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨

let a = 2;
a(); // TypeError: a is not a function
æ•°ç»„å»é‡çš„ä¸‰ç§å®ç°æ–¹å¼
Setæ•°ç»„å»é‡
ES6æ–°çš„æ•°æ®ç»“æ„Setï¼Œç±»ä¼¼äºæ•°ç»„ï¼Œå®ƒçš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ã€‚

{
let arr = [1, 22, 33, 44, 22, 44];

console.log([...new Set(arr)]); //[1, 22, 33, 44]
}
reduceæ•°ç»„å¯¹è±¡å»é‡
reduceå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œä¸å«æ•°ç»„ä¸­æœªèµ‹å€¼ã€è¢«åˆ é™¤çš„å…ƒç´ ï¼Œå›è°ƒå‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•°

callbackï¼šæ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å‡½æ•°ï¼ŒåŒ…å«å››ä¸ªå‚æ•°
previousValueï¼šä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒè¿”å›çš„å€¼ï¼Œæˆ–è€…æ˜¯æä¾›çš„åˆå§‹å€¼ï¼ˆinitialValueï¼‰
currentValueï¼šæ•°ç»„ä¸­å½“å‰è¢«å¤„ç†çš„å…ƒç´ 
indexï¼šå½“å‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•
arrayï¼šè°ƒç”¨ reduce çš„æ•°ç»„
initialValueï¼šå¯é€‰ï¼Œä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callback çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚
ç¤ºä¾‹ï¼š

let hash = {};

function unique(arr, initialValue){
    return arr.reduce(function(previousValue, currentValue, index, array){
        hash[currentValue.name] ? '' : hash[currentValue.name] = true && previousValue.push(currentValue);

        return previousValue
    }, initialValue);
}

const uniqueArr = unique([{name: 'zs', age: 15}, {name: 'lisi'}, {name: 'zs'}], []);

console.log(uniqueArr); // uniqueArr.length == 2
å‚è€ƒlodash
_.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');

// => [{ 'x': 1 }, { 'x': 2 }]
æ•°ç»„é™ç»´
æ–¹æ³•ä¸€ï¼šå°†æ•°ç»„å­—ç¬¦ä¸²åŒ–
åˆ©ç”¨æ•°ç»„ä¸å­—ç¬¦ä¸²çš„éšå¼è½¬æ¢ï¼Œä½¿ç”¨+ç¬¦å·é“¾æ¥ä¸€ä¸ªå¯¹è±¡ï¼Œjavascriptä¼šé»˜è®¤è°ƒç”¨toStringæ–¹æ³•è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†ä½¿ç”¨å­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œæœ€åè½¬æˆæ•°å€¼å½¢æ•°ç»„

let arr = [[222, 333, 444], [55, 66, 77], 11, ]
arr += '';
arr = arr.split(',');
arr = arr.map(item => Number(item));

console.log(arr); // [222, 333, 444, 55, 66, 77, 11]
æ–¹æ³•äºŒï¼šåˆ©ç”¨applyå’Œconcatè½¬æ¢
concat() æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚è¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜ç°æœ‰çš„æ•°ç»„ï¼Œè€Œä»…ä»…ä¼šè¿”å›è¢«è¿æ¥æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ã€‚

{
    function reduceDimension(arr) {
        return Array.prototype.concat.apply([], arr);
    }

    console.log(reduceDimension([[123], 4, [7, 8],[9, [111]]]));
    // [123, 4, 7, 8, 9, Array(1)]
}
æ–¹æ³•ä¸‰ è‡ªå®šä¹‰å‡½æ•°å®ç°
æ¨èä½¿ç”¨ï¼Œç»æµ‹è¯•è¿™ä¸ªæ˜¯æ‰§è¡Œæ•ˆç‡æœ€é«˜çš„ã€‚

function reduceDimension(arr){
    let ret = [];

    let toArr = function(arr){
        arr.forEach(function(item){
            item instanceof Array ? toArr(item) : ret.push(item);
        });
    }

    toArr(arr);

    return ret;
}

let arr = [[12], 4, [333, [4444, 5555]], [9, [111, 222]]];

for(let i = 0; i < 100000; i++){
    arr.push(i);
}

let start = new Date().getTime();

console.log('reduceDimension: ', reduceDimension(arr));
console.log('è€—æ—¶: ', new Date().getTime() - start);
 PREVIOUS
ç®€ä»‹
NEXT 
This
5 æ¡è¯„è®ºæœªç™»å½•ç”¨æˆ·
 
è¯´ç‚¹ä»€ä¹ˆ
æ”¯æŒ Markdown è¯­æ³•é¢„è§ˆä½¿ç”¨ GitHub ç™»å½•
@haizhilin2013
haizhilin2013å‘è¡¨äº12 ä¸ªæœˆå‰
è§£æå¾—å¾ˆå¥½ï¼

@hanxingdianbing
hanxingdianbingå‘è¡¨äº12 ä¸ªæœˆå‰
confdssll

@Iamxiaozhu
Iamxiaozhuå‘è¡¨äº9 ä¸ªæœˆå‰
setTimeoutåº”è¯¥è¿˜å¯ä»¥æ¥å—è¿”å›å€¼ä¸ºå‡½æ•°çš„é—­åŒ…
let a = 2; a(); è¿™ä¸ªåœ°æ–¹çš„æ³¨é‡Šåº”è¯¥ä¸å¤ªå¯¹

@qufei1993
qufei1993å‘è¡¨äº9 ä¸ªæœˆå‰
@Iamxiaozhu
setTimeoutåº”è¯¥è¿˜å¯ä»¥æ¥å—è¿”å›å€¼ä¸ºå‡½æ•°çš„é—­åŒ…
let a = 2; a(); è¿™ä¸ªåœ°æ–¹çš„æ³¨é‡Šåº”è¯¥ä¸å¤ªå¯¹

æ²¡å¿…è¦ç»•ä¸€åœˆé—­åŒ…é‡Œé¢åœ¨è¿”å›ä¸€ä¸ªå‡½æ•°å§

@yuexiangqianlong
yuexiangqianlongå‘è¡¨äº4 ä¸ªæœˆå‰
æ•°ç»„é™ç»´å¯ä»¥ç”¨lodashé‡Œçš„flatten æˆ–è€… _.flattenDeep

